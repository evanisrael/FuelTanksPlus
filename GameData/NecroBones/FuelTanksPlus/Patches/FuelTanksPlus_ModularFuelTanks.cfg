@PART[TPtank*|TPcone*|TPdome*]:FOR[FuelTanksPlus]:NEEDS[ModularFuelTanks]
{
	origLFO = #$RESOURCE[LiquidFuel]/maxAmount$
	@origLFO += #$RESOURCE[Oxidizer]/maxAmount$

	MODULE
	{
		name = ModuleFuelTanks
		volume = #$../origLFO$
		type = Default
	}
}
@PART[TPtank*|TPcone*|TPdome*]:AFTER[FuelTanksPlus]:NEEDS[ModularFuelTanks]
{
	!origLFO = delete
}

// Fix-ups:

@PART[TPtank*Nuke]:NEEDS[ModularFuelTanks]:AFTER[FuelTanksPlus]
{
    @MODULE[ModuleFuelTanks]
    {
	@type = Fuselage
    }
}
@PART[TPtankR*MP]:NEEDS[ModularFuelTanks]:AFTER[FuelTanksPlus]
{
    @MODULE[ModuleFuelTanks]
    {
	@type = RCS
	@volume *= 1.25
    }
}
